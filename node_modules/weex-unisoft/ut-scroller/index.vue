<!-- Created by 赵官林 on 20/6/17. -->
<!-- list 下拉，上拉 -->
<template>
    <scroller class="scroller">
        <refresh v-if="$listeners['refresh']" class="refresh" @refresh="onrefresh" :display="refreshing ? 'show' : 'hide'">
            <slot name="refresh">
              <div class="indicator-div">
                <image src="https://img.alicdn.com/tfs/TB1Ep_9NVXXXXb8XVXXXXXXXXXX-74-74.gif" v-if="refreshing" class="indicator" resize="contain" quality="original"></image>
                <text class="indicator-text">{{refreshing?'加载中 ...':'释放即可刷新数据'}}</text>
              </div>
            </slot>
        </refresh>
        <div>
          <slot>
          </slot>
        </div>
        <loading v-if="$listeners['loadmore']" class="refresh" @loading="onloading" :display="loading ? 'show' : 'hide'">
            <slot name="loading">
              <div class="indicator-div">
                <image src="https://img.alicdn.com/tfs/TB1Ep_9NVXXXXb8XVXXXXXXXXXX-74-74.gif" v-if="loading" class="indicator" resize="contain" quality="original"></image>
                <text class="indicator-text">{{noMore?noNextLabel:loading?'加载中 ...':'加载下一页'}}</text>
              </div>
            </slot>
        </loading>
    </scroller>
</template>

<script>

export default {
  name: 'UtList',
  props: {
      refreshing: {
         type: Boolean,
         default: false
      },
      loading: {
         type: Boolean,
         default: false
      },
      noMore: {
          type: Boolean,
          default: false
      },
      noNextLabel: {
          type: String,
          default: '没有下一页了'
      }
  },
  methods: {
      onrefresh() {
         this.$emit('refresh');
      },
      onloading() {
         if (!this.noMore) {
            this.$emit('loadmore');
         }
      }
  }
}
</script>

<style scoped>
.scroller {
  flex: 1;
}
.refresh {
  width: 750px;
  padding: 30px;
  display: -ms-flex;
  display: -webkit-flex;
  display: flex;
  -ms-flex-align: center;
  -webkit-align-items: center;
  -webkit-box-align: center;
  align-items: center;
}
.indicator-div {
  flex-direction: row;
  align-items: center;
}
.indicator-text {
  color: #888888;
  font-size: 28px;
  text-align: center;
}
.indicator {
  margin-right: 16px;
  height: 40px;
  width: 40px;
}
</style>