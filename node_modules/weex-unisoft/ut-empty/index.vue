<!--
属性：
  1、image: 图片url，不设置时使用默认图片；
  2、imageWidth: 图片宽度，默认 250；
  3、imageHeigth: 图片高度，默认 250；
  4、label: 提示文字，默认 '暂无数据！'；
  5、button: 按钮文字，默认 ''；
方法：
  btnClick: 按钮点击方法
试例：
  <ut-empty v-if="list.length==0" :label="数据加载失败，请重新加载" :button="重新加载" @btnClick="loadData()"></ut-empty>
自定义
  <ut-empty v-if="list.length==0">
    <image slot="image"></image>
    <text slot="label">数据加载失败，请重新加载</text>
    <text slot="button" @click="clicked">重新加载</text>
  </ut-empty>
-->
<!-- Created by 赵官林 on 20/3/10. -->
<!--无数据展示控件.-->
<template>
  <div class="no-data">
    <div class="data-content">
      <slot name="image">
        <image :src="_image" resize="contain" :style="imageStyle" v-if="_image"></image>
      </slot>
      <slot name="label">
        <text class="data-label" v-if="_label">{{_label}}</text>
      </slot>
      <slot name="button">
        <text class="data-button" v-if="_button&&$listeners['btnClick']" @click="clicked">{{_button}}</text>
      </slot>
      <slot>
      </slot>
    </div>
  </div>
</template>

<style scoped>
  .no-data {
    flex-direction: row;
    align-items: center;
    justify-content: center;
    padding-left: 24px;
    padding-right: 24px;
    flex: 1;
  }
  .data-content {
    align-items: center;
    justify-content: center;
    padding-top: 30px;
    padding-bottom: 160px;
  }
  .data-label {
    font-size: 28px;
    text-align: center;
    color: #999999;
    margin:20px 100px;
  }
  .data-button {
    font-size: 28px;
    text-align: center;
    color: #999999;
    padding: 20px;
    border-width: 1px;
    border-color: #e0e0e0;
    border-radius: 10px;
  }
</style>

<script>
  export default {
    props: {
        imageWidth: {
            type: Number,
            default: 250
        },
        imageHeight: {
            type: Number,
            default: 250
        },
        image: {
            type: String,
            default: 'error'
        },
        label: {
            type: String,
            default: ''
        },
        button: {
            type: String,
            default: ''
        }
    },
    computed: {
        imageStyle() {
            return { width: this.imageWidth, height: this.imageHeight }
        },
        _image() {
            if (this.image == 'network') {
                return 'https://exeutest.blob.core.chinacloudapi.cn/ontap-in/images/ut_network.png';
            }
            if (this.image == 'search') {
                return 'https://exeutest.blob.core.chinacloudapi.cn/ontap-in/images/ut_search.png';
            }
            if (this.image == 'error') {
                return 'https://exeutest.blob.core.chinacloudapi.cn/ontap-in/images/ut_default.png';
            }
            if (this.image.indexOf('http://') == 0 || this.image.indexOf('https://') == 0) {
                return this.image;
            }
            return '';
        },
        _label() {
            if (this.label) {
                return this.label;
            }
            if (this.image == 'network') {
                return '网络请求失败，请检查网络！';
            }
            if (this.image == 'search') {
                return '当前条件没有查询结果！';
            }
            if (this.image == 'error') {
                return '暂无数据！';
            }
            return '';
        },
        _button() {
            if (this.button) {
                return this.button;
            }
            if (this.image == 'network') {
                return '重新加载';
            }
            return '';
        }
    },
    methods: {
        clicked (e) {
            this.$emit('btnClick', { e });
        }
    }
  };
</script>